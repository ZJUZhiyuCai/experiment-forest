<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>实验记录测试数据</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .button {
            background: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        .button:hover {
            background: #45a049;
        }
        .section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
    </style>
</head>
<body>
    <h1>实验记录测试数据</h1>
    
    <div class="section">
        <h2>添加测试数据</h2>
        <button class="button" onclick="addTestRecords()">添加测试实验记录</button>
        <button class="button" onclick="clearAllData()">清除所有数据</button>
        <button class="button" onclick="viewData()">查看当前数据</button>
    </div>
    
    <div class="section">
        <h2>当前状态</h2>
        <div id="status"></div>
    </div>

    <script>
        // 生成唯一ID
        function generateId() {
            return Date.now().toString(36) + Math.random().toString(36).substr(2, 5);
        }

        // 添加测试实验记录
        function addTestRecords() {
            const now = new Date();
            const testRecords = [
                {
                    id: generateId(),
                    title: "蛋白质提取实验",
                    date: "2025-01-20",
                    content: "# 蛋白质提取实验\n\n## 实验目的\n从细胞样本中提取蛋白质用于后续分析。\n\n## 实验步骤\n1. 细胞裂解\n2. 离心分离\n3. 蛋白质定量\n\n## 实验结果\n成功提取蛋白质，浓度为 2.5 mg/ml。",
                    status: "completed",
                    category: "cell",
                    tags: ["蛋白质", "提取", "细胞"],
                    createdAt: now.toISOString(),
                    updatedAt: now.toISOString()
                },
                {
                    id: generateId(),
                    title: "PCR扩增实验",
                    date: "2025-01-21",
                    content: "# PCR扩增实验\n\n## 实验目的\n扩增目标基因片段\n\n## 试剂配制\n\n| 试剂 | 体积(μL) | 浓度 |\n| --- | --- | --- |\n| Template DNA | 1 | 10 ng/μL |\n| Forward Primer | 1 | 10 μM |\n| Reverse Primer | 1 | 10 μM |\n| dNTP | 1 | 10 mM |\n| Taq聚合酶 | 0.5 | 5 U/μL |\n| Buffer | 5 | 10× |\n| ddH₂O | 40.5 | - |\n\n## 实验结果\n扩增成功，产物大小约为 500 bp。",
                    status: "completed",
                    category: "microbiology",
                    tags: ["PCR", "基因", "扩增"],
                    createdAt: now.toISOString(),
                    updatedAt: now.toISOString()
                },
                {
                    id: generateId(),
                    title: "动物行为观察实验",
                    date: "2025-01-22",
                    content: "# 动物行为观察实验\n\n## 实验目的\n观察小鼠在不同环境下的行为模式\n\n## 观察记录\n\n| 时间 | 行为类型 | 持续时间(秒) | 备注 |\n| --- | --- | --- | --- |\n| 09:00 | 探索 | 120 | 积极探索新环境 |\n| 09:05 | 休息 | 300 | 在角落静止 |\n| 09:10 | 觅食 | 180 | 寻找食物 |\n| 09:15 | 社交 | 90 | 与同伴互动 |\n\n![小鼠行为观察](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjBmMGYwIi8+CiAgPHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzMzMyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPuWunumqjOWbvueJhzwvdGV4dD4KPC9zdmc+) =x300\n*实验过程中的小鼠行为观察*",
                    status: "draft",
                    category: "animal",
                    tags: ["动物实验", "行为", "观察"],
                    createdAt: now.toISOString(),
                    updatedAt: now.toISOString()
                }
            ];

            localStorage.setItem('experiment_records', JSON.stringify(testRecords));
            updateStatus();
            alert('测试数据已添加！');
        }

        // 清除所有数据
        function clearAllData() {
            if (confirm('确定要清除所有数据吗？')) {
                localStorage.removeItem('experiment_records');
                localStorage.removeItem('experiment_notes');
                localStorage.removeItem('sops');
                localStorage.removeItem('projects');
                updateStatus();
                alert('所有数据已清除！');
            }
        }

        // 查看当前数据
        function viewData() {
            const records = localStorage.getItem('experiment_records');
            if (records) {
                const data = JSON.parse(records);
                console.log('当前实验记录数据:', data);
                alert(`当前有 ${data.length} 条实验记录，详细信息请查看浏览器控制台。`);
            } else {
                alert('暂无数据');
            }
            updateStatus();
        }

        // 更新状态显示
        function updateStatus() {
            const records = localStorage.getItem('experiment_records');
            const notes = localStorage.getItem('experiment_notes');
            const sops = localStorage.getItem('sops');
            const projects = localStorage.getItem('projects');

            const recordCount = records ? JSON.parse(records).length : 0;
            const noteCount = notes ? JSON.parse(notes).length : 0;
            const sopCount = sops ? JSON.parse(sops).length : 0;
            const projectCount = projects ? JSON.parse(projects).length : 0;

            document.getElementById('status').innerHTML = `
                <p><strong>实验记录:</strong> ${recordCount} 条</p>
                <p><strong>实验笔记:</strong> ${noteCount} 条</p>
                <p><strong>SOP文档:</strong> ${sopCount} 条</p>
                <p><strong>课题:</strong> ${projectCount} 条</p>
            `;
        }

        // 页面加载时更新状态
        window.onload = function() {
            updateStatus();
        };
    </script>
</body>
</html>