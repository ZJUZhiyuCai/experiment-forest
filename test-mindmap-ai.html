<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>AIæ€ç»´å¯¼å›¾æµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            line-height: 1.6;
        }
        .test-section {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            background: #f9f9f9;
        }
        .input-group {
            margin: 10px 0;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        input, textarea, select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 14px;
        }
        button {
            background: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px 0;
        }
        button:hover {
            background: #45a049;
        }
        button:disabled {
            background: #cccccc;
            cursor: not-allowed;
        }
        .result {
            background: white;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 15px;
            margin: 10px 0;
            max-height: 400px;
            overflow-y: auto;
        }
        .error {
            background: #ffebee;
            border-color: #f44336;
            color: #c62828;
        }
        .success {
            background: #e8f5e8;
            border-color: #4caf50;
            color: #2e7d32;
        }
        .loading {
            background: #fff3e0;
            border-color: #ff9800;
            color: #ef6c00;
        }
        pre {
            white-space: pre-wrap;
            word-wrap: break-word;
        }
    </style>
</head>
<body>
    <h1>ğŸ§  AIæ€ç»´å¯¼å›¾åŠŸèƒ½æµ‹è¯•</h1>
    <p>æ­¤é¡µé¢ç”¨äºç‹¬ç«‹æµ‹è¯•AIç”Ÿæˆæ€ç»´å¯¼å›¾åŠŸèƒ½ï¼Œå¸®åŠ©è¯Šæ–­é—®é¢˜ã€‚</p>

    <div class="test-section">
        <h2>1. APIé…ç½®æµ‹è¯•</h2>
        <div class="input-group">
            <label>APIç«¯ç‚¹:</label>
            <input type="text" id="apiEndpoint" placeholder="https://api.siliconflow.cn/v1/chat/completions">
        </div>
        <div class="input-group">
            <label>APIå¯†é’¥:</label>
            <input type="password" id="apiKey" placeholder="sk-...">
        </div>
        <div class="input-group">
            <label>æ¨¡å‹åç§°:</label>
            <input type="text" id="model" value="qwen2.5-72b-instruct">
        </div>
        <button onclick="testAPIConnection()">æµ‹è¯•APIè¿æ¥</button>
        <div id="apiResult" class="result" style="display: none;"></div>
    </div>

    <div class="test-section">
        <h2>2. æ¨¡æ‹Ÿè¯¾é¢˜æ•°æ®</h2>
        <div class="input-group">
            <label>è¯¾é¢˜æ ‡é¢˜:</label>
            <input type="text" id="projectTitle" value="åŸºäºCRISPRæŠ€æœ¯çš„åŸºå› ç¼–è¾‘å®éªŒç ”ç©¶">
        </div>
        <div class="input-group">
            <label>è¯¾é¢˜æè¿°:</label>
            <textarea id="projectDescription" rows="3">ç ”ç©¶CRISPR-Cas9ç³»ç»Ÿåœ¨ç‰¹å®šåŸºå› ä½ç‚¹çš„ç¼–è¾‘æ•ˆç‡ï¼Œåˆ†æä¸åŒå¯¼å‘RNAåºåˆ—å¯¹ç¼–è¾‘ç²¾åº¦çš„å½±å“</textarea>
        </div>
        <div class="input-group">
            <label>å®éªŒè®°å½•æ•°é‡:</label>
            <input type="number" id="recordCount" value="5">
        </div>
        <div class="input-group">
            <label>ç¬”è®°æ•°é‡:</label>
            <input type="number" id="noteCount" value="3">
        </div>
        <div class="input-group">
            <label>SOPæ•°é‡:</label>
            <input type="number" id="sopCount" value="2">
        </div>
    </div>

    <div class="test-section">
        <h2>3. AIç”Ÿæˆé…ç½®</h2>
        <div class="input-group">
            <label>åŒ…å«å†…å®¹:</label>
            <div>
                <input type="checkbox" id="includeExperiments" checked> å®éªŒè®°å½•
                <input type="checkbox" id="includeNotes" checked> ç ”ç©¶ç¬”è®°
                <input type="checkbox" id="includeSOPs" checked> SOPæ–‡æ¡£
            </div>
        </div>
        <div class="input-group">
            <label>å¸ƒå±€æ ·å¼:</label>
            <select id="style">
                <option value="hierarchical">å±‚æ¬¡åŒ–</option>
                <option value="radial">æ”¾å°„çŠ¶</option>
                <option value="network">ç½‘ç»œçŠ¶</option>
            </select>
        </div>
        <div class="input-group">
            <label>è¯¦ç»†ç¨‹åº¦:</label>
            <select id="detailLevel">
                <option value="basic">åŸºæœ¬</option>
                <option value="detailed" selected>è¯¦ç»†</option>
                <option value="comprehensive">å…¨é¢</option>
            </select>
        </div>
        <div class="input-group">
            <label>æœ€å¤§èŠ‚ç‚¹æ•°:</label>
            <input type="number" id="maxNodes" value="30" min="10" max="100">
        </div>
    </div>

    <div class="test-section">
        <h2>4. ç”Ÿæˆæ€ç»´å¯¼å›¾</h2>
        <button onclick="generateMindMap()" id="generateBtn">ç”ŸæˆAIæ€ç»´å¯¼å›¾</button>
        <div id="generationResult" class="result" style="display: none;"></div>
    </div>

    <div class="test-section">
        <h2>5. é—®é¢˜è¯Šæ–­</h2>
        <button onclick="runDiagnostics()">è¿è¡Œå®Œæ•´è¯Šæ–­</button>
        <div id="diagnosticsResult" class="result" style="display: none;"></div>
    </div>

    <script>
        // ä»localStorageåŠ è½½AIè®¾ç½®
        function loadSettings() {
            const saved = localStorage.getItem('aiSettings');
            if (saved) {
                try {
                    const settings = JSON.parse(saved);
                    document.getElementById('apiEndpoint').value = settings.apiEndpoint || '';
                    document.getElementById('apiKey').value = settings.apiKey || '';
                    document.getElementById('model').value = settings.model || 'qwen2.5-72b-instruct';
                } catch (e) {
                    console.error('è¯»å–AIè®¾ç½®å¤±è´¥:', e);
                }
            }
        }

        // æµ‹è¯•APIè¿æ¥
        async function testAPIConnection() {
            const apiEndpoint = document.getElementById('apiEndpoint').value.trim();
            const apiKey = document.getElementById('apiKey').value.trim();
            const model = document.getElementById('model').value.trim();
            
            const resultDiv = document.getElementById('apiResult');
            resultDiv.style.display = 'block';
            resultDiv.className = 'result loading';
            resultDiv.innerHTML = 'æ­£åœ¨æµ‹è¯•APIè¿æ¥...';

            if (!apiEndpoint || !apiKey) {
                resultDiv.className = 'result error';
                resultDiv.innerHTML = 'âŒ è¯·å¡«å†™APIç«¯ç‚¹å’Œå¯†é’¥';
                return;
            }

            try {
                const response = await fetch(apiEndpoint, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${apiKey}`
                    },
                    body: JSON.stringify({
                        model: model,
                        messages: [
                            { role: 'system', content: 'ä½ æ˜¯ä¸€ä¸ªæµ‹è¯•åŠ©æ‰‹ã€‚' },
                            { role: 'user', content: 'è¯·å›å¤"è¿æ¥æµ‹è¯•æˆåŠŸ"' }
                        ],
                        max_tokens: 50,
                        temperature: 0.1
                    })
                });

                if (!response.ok) {
                    const errorText = await response.text();
                    resultDiv.className = 'result error';
                    resultDiv.innerHTML = `âŒ APIè¿æ¥å¤±è´¥ (${response.status}): ${errorText}`;
                    return;
                }

                const data = await response.json();
                if (data.choices && data.choices[0] && data.choices[0].message) {
                    resultDiv.className = 'result success';
                    resultDiv.innerHTML = `âœ… APIè¿æ¥æˆåŠŸï¼<br>å“åº”å†…å®¹ï¼š${data.choices[0].message.content}`;
                } else {
                    resultDiv.className = 'result error';
                    resultDiv.innerHTML = 'âŒ APIå“åº”æ ¼å¼å¼‚å¸¸';
                }

            } catch (error) {
                resultDiv.className = 'result error';
                resultDiv.innerHTML = `âŒ ç½‘ç»œè¿æ¥å¤±è´¥ï¼š${error.message}`;
            }
        }

        // æ„å»ºAIæç¤ºè¯
        function buildPrompt() {
            const projectTitle = document.getElementById('projectTitle').value;
            const projectDescription = document.getElementById('projectDescription').value;
            const recordCount = document.getElementById('recordCount').value;
            const noteCount = document.getElementById('noteCount').value;
            const sopCount = document.getElementById('sopCount').value;
            const style = document.getElementById('style').value;
            const detailLevel = document.getElementById('detailLevel').value;

            const styleText = style === 'hierarchical' ? 'å±‚æ¬¡åŒ–' : style === 'radial' ? 'æ”¾å°„çŠ¶' : 'ç½‘ç»œçŠ¶';

            return `è¯·ä¸ºä»¥ä¸‹ç”Ÿå‘½åŒ»è¯ç ”ç©¶è¯¾é¢˜ç”Ÿæˆä¸€ä¸ªä¸“ä¸šçš„æ€ç»´å¯¼å›¾ç»“æ„ï¼š

è¯¾é¢˜ä¿¡æ¯ï¼š
- æ ‡é¢˜ï¼š${projectTitle}
- æè¿°ï¼š${projectDescription}
- çŠ¶æ€ï¼šactive
- è¿›åº¦ï¼š25%
- ç ”ç©¶ç›®æ ‡ï¼šéªŒè¯åŸºå› ç¼–è¾‘æ•ˆç‡ã€åˆ†æå¯¼å‘RNAå½±å“ã€ä¼˜åŒ–å®éªŒæ¡ä»¶

æ•°æ®ç»Ÿè®¡ï¼š
- å®éªŒè®°å½•ï¼š${recordCount}ä¸ª
- ç ”ç©¶ç¬”è®°ï¼š${noteCount}ä¸ª
- SOPæ–‡æ¡£ï¼š${sopCount}ä¸ª

å®éªŒç±»å‹åˆ†å¸ƒï¼š
- åŸºå› ç¼–è¾‘å®éªŒ: 3ä¸ª
- ç»†èƒåŸ¹å…»: 1ä¸ª
- PCRæ‰©å¢: 1ä¸ª

ä¸»è¦ç ”ç©¶ç¬”è®°ï¼š
- CRISPRç³»ç»Ÿè®¾è®¡åŸç†
- å¯¼å‘RNAåºåˆ—ç­›é€‰æ–¹æ³•
- åŸºå› ç¼–è¾‘æ•ˆç‡è¯„ä¼°æ ‡å‡†

ç›¸å…³SOPæ–‡æ¡£ï¼š
- CRISPR-Cas9åŸºå› ç¼–è¾‘æ ‡å‡†æ“ä½œæµç¨‹ (å®éªŒæ“ä½œ)
- ç»†èƒåŸ¹å…»åŠè½¬æŸ“åè®® (ç»†èƒå®éªŒ)

è¯·ç”Ÿæˆä¸€ä¸ª${styleText}çš„æ€ç»´å¯¼å›¾ï¼ŒåŒ…å«ä»¥ä¸‹è¦ç´ ï¼š

1. ä¸­å¿ƒèŠ‚ç‚¹ï¼šè¯¾é¢˜ä¸»é¢˜
2. ä¸»è¦åˆ†æ”¯ï¼š
   - ç ”ç©¶ç›®æ ‡å’Œå‡è®¾
   - å®éªŒè®¾è®¡å’Œæ–¹æ³•
   - æ•°æ®æ”¶é›†å’Œåˆ†æ
   - ç»“æœå’Œè®¨è®º
   - é—®é¢˜å’ŒæŒ‘æˆ˜
   - ä¸‹ä¸€æ­¥å·¥ä½œ

3. å…·ä½“ç»†èŠ‚ï¼š
   - æ ¹æ®ç°æœ‰å®éªŒè®°å½•æ·»åŠ å…·ä½“çš„å®éªŒèŠ‚ç‚¹
   - åŒ…å«ç›¸å…³çš„æŠ€æœ¯æ–¹æ³•å’Œè®¾å¤‡
   - æ ‡æ³¨å…³é”®æ•°æ®ç‚¹å’Œå‘ç°
   - è¯†åˆ«æ½œåœ¨çš„ç ”ç©¶æ–¹å‘

è¯·ä»¥JSONæ ¼å¼è¿”å›ï¼ŒåŒ…å«èŠ‚ç‚¹æ•°ç»„å’Œè¿æ¥æ•°ç»„ã€‚æ¯ä¸ªèŠ‚ç‚¹åº”åŒ…å«ï¼šid, title, type, category, description, priorityã€‚

è¯¦ç»†ç¨‹åº¦ï¼š${detailLevel}
æœ€å¤§èŠ‚ç‚¹æ•°ï¼šä¸è¶…è¿‡50ä¸ª

è¯·ç¡®ä¿æ€ç»´å¯¼å›¾ç»“æ„åˆç†ï¼Œå±‚æ¬¡æ¸…æ™°ï¼Œä¾¿äºç†è§£å’Œè¿›ä¸€æ­¥ç¼–è¾‘ã€‚`;
        }

        // ç”Ÿæˆæ€ç»´å¯¼å›¾
        async function generateMindMap() {
            const apiEndpoint = document.getElementById('apiEndpoint').value.trim();
            const apiKey = document.getElementById('apiKey').value.trim();
            const model = document.getElementById('model').value.trim();

            const resultDiv = document.getElementById('generationResult');
            const generateBtn = document.getElementById('generateBtn');
            
            resultDiv.style.display = 'block';
            resultDiv.className = 'result loading';
            resultDiv.innerHTML = 'ğŸ¤– AIæ­£åœ¨ç”Ÿæˆæ€ç»´å¯¼å›¾ï¼Œè¯·ç¨å€™...';
            generateBtn.disabled = true;

            if (!apiEndpoint || !apiKey) {
                resultDiv.className = 'result error';
                resultDiv.innerHTML = 'âŒ è¯·å…ˆé…ç½®å¹¶æµ‹è¯•APIè¿æ¥';
                generateBtn.disabled = false;
                return;
            }

            try {
                const prompt = buildPrompt();
                
                const response = await fetch(apiEndpoint, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${apiKey}`
                    },
                    body: JSON.stringify({
                        model: model,
                        messages: [
                            {
                                role: 'system',
                                content: 'ä½ æ˜¯ä¸€ä½ä¸“ä¸šçš„AIåŠ©æ‰‹ï¼Œæ“…é•¿åˆ›å»ºæ¸…æ™°ã€æœ‰é€»è¾‘çš„æ€ç»´å¯¼å›¾ã€‚è¯·æ ¹æ®ç”¨æˆ·éœ€æ±‚ç”Ÿæˆç»“æ„åŒ–çš„æ€ç»´å¯¼å›¾æ•°æ®ã€‚'
                            },
                            {
                                role: 'user',
                                content: prompt
                            }
                        ],
                        temperature: 0.7,
                        max_tokens: 2000
                    })
                });

                if (!response.ok) {
                    const errorText = await response.text();
                    resultDiv.className = 'result error';
                    resultDiv.innerHTML = `âŒ AIç”Ÿæˆå¤±è´¥ (${response.status}): ${errorText}`;
                    generateBtn.disabled = false;
                    return;
                }

                const data = await response.json();
                
                if (data.choices && data.choices[0] && data.choices[0].message) {
                    const aiResponse = data.choices[0].message.content;
                    
                    try {
                        // å°è¯•è§£æJSON
                        const jsonMatch = aiResponse.match(/\{[\s\S]*\}/);
                        if (jsonMatch) {
                            const parsedData = JSON.parse(jsonMatch[0]);
                            resultDiv.className = 'result success';
                            resultDiv.innerHTML = `âœ… AIæ€ç»´å¯¼å›¾ç”ŸæˆæˆåŠŸï¼<br><br>` +
                                `<strong>ç”Ÿæˆçš„ç»“æ„ï¼š</strong><br>` +
                                `èŠ‚ç‚¹æ•°é‡ï¼š${parsedData.nodes ? parsedData.nodes.length : 'æœªçŸ¥'}<br>` +
                                `è¿æ¥æ•°é‡ï¼š${parsedData.edges ? parsedData.edges.length : 'æœªçŸ¥'}<br><br>` +
                                `<strong>å®Œæ•´å“åº”ï¼š</strong><br>` +
                                `<pre>${JSON.stringify(parsedData, null, 2)}</pre>`;
                        } else {
                            resultDiv.className = 'result error';
                            resultDiv.innerHTML = `âŒ AIå“åº”ä¸­æœªæ‰¾åˆ°æœ‰æ•ˆJSONæ•°æ®<br><br>` +
                                `<strong>åŸå§‹å“åº”ï¼š</strong><br>` +
                                `<pre>${aiResponse}</pre>`;
                        }
                    } catch (parseError) {
                        resultDiv.className = 'result error';
                        resultDiv.innerHTML = `âŒ JSONè§£æå¤±è´¥ï¼š${parseError.message}<br><br>` +
                            `<strong>åŸå§‹å“åº”ï¼š</strong><br>` +
                            `<pre>${aiResponse}</pre>`;
                    }
                } else {
                    resultDiv.className = 'result error';
                    resultDiv.innerHTML = 'âŒ AIå“åº”æ ¼å¼å¼‚å¸¸';
                }

            } catch (error) {
                resultDiv.className = 'result error';
                resultDiv.innerHTML = `âŒ ç½‘ç»œè¯·æ±‚å¤±è´¥ï¼š${error.message}`;
            } finally {
                generateBtn.disabled = false;
            }
        }

        // è¿è¡Œå®Œæ•´è¯Šæ–­
        async function runDiagnostics() {
            const resultDiv = document.getElementById('diagnosticsResult');
            resultDiv.style.display = 'block';
            resultDiv.className = 'result';
            
            let diagnostics = 'ğŸ” <strong>AIæ€ç»´å¯¼å›¾åŠŸèƒ½è¯Šæ–­æŠ¥å‘Š</strong><br><br>';

            // 1. æ£€æŸ¥localStorageä¸­çš„AIè®¾ç½®
            diagnostics += '<strong>1. AIè®¾ç½®æ£€æŸ¥ï¼š</strong><br>';
            const savedSettings = localStorage.getItem('aiSettings');
            if (savedSettings) {
                try {
                    const settings = JSON.parse(savedSettings);
                    diagnostics += `âœ… AIè®¾ç½®å·²ä¿å­˜<br>`;
                    diagnostics += `- APIç«¯ç‚¹ï¼š${settings.apiEndpoint ? 'å·²é…ç½®' : 'âŒ æœªé…ç½®'}<br>`;
                    diagnostics += `- APIå¯†é’¥ï¼š${settings.apiKey ? 'å·²é…ç½®' : 'âŒ æœªé…ç½®'}<br>`;
                    diagnostics += `- æ¨¡å‹ï¼š${settings.model || 'âŒ æœªæŒ‡å®š'}<br>`;
                    diagnostics += `- å¯ç”¨è‡ªå®šä¹‰APIï¼š${settings.useCustomAPI ? 'âœ… æ˜¯' : 'âŒ å¦'}<br>`;
                } catch (e) {
                    diagnostics += `âŒ AIè®¾ç½®æ ¼å¼é”™è¯¯<br>`;
                }
            } else {
                diagnostics += `âŒ æœªæ‰¾åˆ°AIè®¾ç½®<br>`;
            }

            // 2. æ£€æŸ¥æ€ç»´å¯¼å›¾æœåŠ¡
            diagnostics += '<br><strong>2. æ€ç»´å¯¼å›¾æœåŠ¡æ£€æŸ¥ï¼š</strong><br>';
            try {
                // æ£€æŸ¥mindMapAIServiceæ˜¯å¦å¯ç”¨
                if (typeof window.mindMapAIService !== 'undefined') {
                    diagnostics += `âœ… mindMapAIServiceå·²åŠ è½½<br>`;
                } else {
                    diagnostics += `âŒ mindMapAIServiceæœªåŠ è½½<br>`;
                }
            } catch (e) {
                diagnostics += `âŒ æ— æ³•è®¿é—®mindMapAIService: ${e.message}<br>`;
            }

            // 3. æ£€æŸ¥ç½‘ç»œè¿æ¥
            diagnostics += '<br><strong>3. ç½‘ç»œè¿æ¥æ£€æŸ¥ï¼š</strong><br>';
            try {
                const testResponse = await fetch('https://httpbin.org/get', {
                    method: 'GET',
                    headers: { 'Content-Type': 'application/json' }
                });
                if (testResponse.ok) {
                    diagnostics += `âœ… ç½‘ç»œè¿æ¥æ­£å¸¸<br>`;
                } else {
                    diagnostics += `âŒ ç½‘ç»œè¿æ¥å¼‚å¸¸<br>`;
                }
            } catch (e) {
                diagnostics += `âŒ ç½‘ç»œè¿æ¥å¤±è´¥ï¼š${e.message}<br>`;
            }

            // 4. æµè§ˆå™¨æ”¯æŒæ£€æŸ¥
            diagnostics += '<br><strong>4. æµè§ˆå™¨æ”¯æŒæ£€æŸ¥ï¼š</strong><br>';
            diagnostics += `- Fetch APIï¼š${typeof fetch !== 'undefined' ? 'âœ… æ”¯æŒ' : 'âŒ ä¸æ”¯æŒ'}<br>`;
            diagnostics += `- localStorageï¼š${typeof localStorage !== 'undefined' ? 'âœ… æ”¯æŒ' : 'âŒ ä¸æ”¯æŒ'}<br>`;
            diagnostics += `- JSONï¼š${typeof JSON !== 'undefined' ? 'âœ… æ”¯æŒ' : 'âŒ ä¸æ”¯æŒ'}<br>`;

            // 5. é”™è¯¯æ—¥å¿—æ£€æŸ¥
            diagnostics += '<br><strong>5. å¸¸è§é—®é¢˜æ’æŸ¥ï¼š</strong><br>';
            
            const currentSettings = {
                apiEndpoint: document.getElementById('apiEndpoint').value.trim(),
                apiKey: document.getElementById('apiKey').value.trim(),
                model: document.getElementById('model').value.trim()
            };

            if (!currentSettings.apiEndpoint) {
                diagnostics += `âŒ APIç«¯ç‚¹æœªé…ç½®ï¼Œè¯·åœ¨è®¾ç½®é¡µé¢é…ç½®<br>`;
            } else if (!currentSettings.apiEndpoint.includes('/chat/completions')) {
                diagnostics += `âš ï¸ APIç«¯ç‚¹å¯èƒ½ç¼ºå°‘è·¯å¾„ï¼Œå»ºè®®ç¡®è®¤æ˜¯å¦åŒ…å«"/chat/completions"<br>`;
            }

            if (!currentSettings.apiKey) {
                diagnostics += `âŒ APIå¯†é’¥æœªé…ç½®<br>`;
            } else if (currentSettings.apiKey.length < 10) {
                diagnostics += `âš ï¸ APIå¯†é’¥ä¼¼ä¹å¤ªçŸ­ï¼Œè¯·æ£€æŸ¥æ˜¯å¦å®Œæ•´<br>`;
            }

            if (!currentSettings.model) {
                diagnostics += `âŒ æ¨¡å‹åç§°æœªæŒ‡å®š<br>`;
            }

            diagnostics += '<br><strong>6. è§£å†³å»ºè®®ï¼š</strong><br>';
            diagnostics += `1. ç¡®ä¿åœ¨"è®¾ç½®"é¡µé¢æ­£ç¡®é…ç½®AI API<br>`;
            diagnostics += `2. ç‚¹å‡»"æµ‹è¯•APIè¿æ¥"ç¡®è®¤é…ç½®æ­£ç¡®<br>`;
            diagnostics += `3. æ£€æŸ¥ç½‘ç»œè¿æ¥å’Œé˜²ç«å¢™è®¾ç½®<br>`;
            diagnostics += `4. å¦‚æœä½¿ç”¨å›½å†…ç½‘ç»œï¼Œå¯èƒ½éœ€è¦é…ç½®ä»£ç†<br>`;
            diagnostics += `5. ç¡®è®¤APIå¯†é’¥æœ‰è¶³å¤Ÿä½™é¢å’Œæƒé™<br>`;

            resultDiv.innerHTML = diagnostics;
        }

        // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨è¯»å–è®¾ç½®
        window.onload = function() {
            loadSettings();
        };
    </script>
</body>
</html>